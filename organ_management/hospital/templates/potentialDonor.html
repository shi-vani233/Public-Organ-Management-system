<html>

<head>
    <title>
        Save-Lifes
    </title>

    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/style2.css' %}">
    <script src="{% static 'javascript/j1.js' %}" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- Include Date Range Picker -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />
</head>
<style>
    input#donbtn {
        border-color: #10325f;
        color: rgb(255, 255, 255);
        background-color: #10325f;
    }
    
    input#donbtn:hover {
        background-color: rgb(7, 77, 77);
        color: white;
        border-color: rgb(255, 255, 255);
    }
    
    .biLeft {
        animation: bounce-in-left 1s both;
        animation-delay: 0s;
    }
    
    @keyframes bounce-in-left {
        0% {
            transform: translateX(-600px);
            animation-timing-function: ease-in;
            opacity: 0;
        }
        38% {
            transform: translateX(0);
            animation-timing-function: ease-out;
            opacity: 1;
        }
        55% {
            transform: translateX(-68px);
            animation-timing-function: ease-in;
        }
        72% {
            transform: translateX(0);
            animation-timing-function: ease-out;
        }
        81% {
            transform: translateX(-28px);
            animation-timing-function: ease-in;
        }
        90% {
            transform: translateX(0);
            animation-timing-function: ease-out;
        }
        95% {
            transform: translateX(-8px);
            animation-timing-function: ease-in;
        }
        100% {
            transform: translateX(0);
            animation-timing-function: ease-out;
        }
    }
</style>

<body>
    <!--navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top" style="background:rgb(1, 140, 255); background: linear-gradient(to top left, #10325f, rgb(1, 140, 255) ); ">

        <a class="navbar-brand" href="#" style="font-size: 35px;">Save-Lifes</a>
        <button class="navbar-toggler " type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
            <div class="navbar-nav" style="font-size: 20px;">
                <a class="nav-item nav-link" href="/Hospital/hospitalHome/">Hospital Home</a>
                <a class="nav-item nav-link" href="/Hospital/logout/">Log Out</a>
            </div>
        </div>
    </nav>
    <br>
    <br>
    <div class="container">
        <div class="p-1 bg-light rounded rounded-pill shadow-sm my-5" style="width:50%;margin: auto;">
            <form action="/Hospital/SearchDonor/" method="GET" value="{{request.GET.q}}">
                <div class="input-group">
                    <input id="search" type="text" name="q" value="{{request.GET.q}}" placeholder="Search for Organ . . . . " aria-describedby="button-addon1" class="form-control border-0 bg-light" style="box-shadow: none;">
                    <div class="input-group-append">
                        <button type="submit" name="submit" value="Search" class="btn btn-link text-primary"><i class="fa fa-search"></i></button>
                    </div>
                </div>
            </form>
        </div>

        {% if submitbutton == 'Search' and request.GET.q != '' %} {% if results %}
        <center>
            <h1>Results for <b>{{ request.GET.q }}</b></h1>
        </center>
        <br/><br/> {% for result in results %} {% for i in hos %} {% if result.hospital_email == i.hospital_email %}
        <div class="card my-2 text-white biLeft" style=" background: linear-gradient(to top left, rgb(62, 233, 241), rgb(2, 109, 109));width: 80%; margin: auto;border-radius: 40px;  box-shadow: 2px 2px 5px .1px rgb(201, 200, 200);border:none">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-9">
                        <h5 class="card-title">{{i.hospital_name}}
                        </h5>
                        <p class="card-text">
                            {{i.hospital_address}},{{i.hospital_city}} <br>Organ: {{result.donor_organ}}
                        </p>
                    </div>
                    <div class="col-md-3">
                        <form action="/Hospital/DonorDetails/" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{result.donor_id}}">
                            <input type="submit" id="donbtn" class="btn text-center btn-primary" value="View Donor Details">
                        </form>
                    </div>
                </div>
            </div>
            <div class="card-footer  text-white ">
                {{result.donor_added_time}}
            </div>
        </div>
        {% endif %} {% endfor %}{% endfor %} {% else %} No search results for this query {% endif %} {% endif %} {% if other_donors %}
        <h2 class="mb-5 text-center display-4">Donors</h2>
        {% endif %} {% for item in other_donors %} {% for i in hos %} {% if item.hospital_email == i.hospital_email %}
        <div class="card my-4 text-white biLeft" style=" background: linear-gradient(to top left, rgb(62, 233, 241), rgb(2, 109, 109));width: 80%;height: 21%;margin: auto;border-radius: 20px;  box-shadow: 2px 2px 5px .1px rgb(201, 200, 200);border:none">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-9">
                        <h5 class="card-title">{{i.hospital_name}}
                        </h5>

                        <p class="card-text">
                            {{i.hospital_address}},{{i.hospital_city}} <br>Organ: {{item.donor_organ}}
                        </p>
                    </div>
                    <div class="col-md-3">
                        <form action="/Hospital/DonorDetails/" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{item.donor_id}}">
                            <input type="submit" id="donbtn" class="btn text-center" value="View Donor Details">
                        </form>
                    </div>
                </div>
            </div>
            <div class="card-footer text-white ">
                {{item.donor_added_time}}
            </div>

        </div>
        {% endif %} {% endfor %} {% endfor %}

        {% if other_donors.has_other_pages %}
            <ul class="pagination">
            {% if other_donors.has_previous %}
                <li class="page-item mr-2 "> <a class="page-link" href="?page={{ other_donors.previous_page_number }}"> Previous</a> </li>
            {% endif %}
            {% for i in other_donors.paginator.page_range %}
                {% if other_donors.number == i %}
                    <li class="active page-item mr-2"><a class="page-link">{{ i }}  <span class="sr-only">(current)</span></a></li>
                    
                {% else %}
                    <li class="page-item mr-2"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endfor %}
            {% if other_donors.has_next %}
                <li class="page-item mr-2"><a class="page-link" href="?page={{ other_donors.next_page_number }}">Next</a></li>
            {% endif %}
            </ul>
        {% endif %}
    </div>

    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <!--footer-->
    <footer class="pt-5 pb-2" style="background:rgb(1, 140, 255); background: linear-gradient(to top left, #10325f, rgb(1, 140, 255) );">
        <div class="container text-white">
            <div class="row">
                <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
                    <div class="logo-part">
                        <a class="w-50 logo-footer" style="  font-family: 'Lobster', cursive;
                font-size: 45px;"> Save-Lifes</a>
                        <p>7637 Laurel Dr. King Of Prussia, PA 19406 Donated tissues save or dramatically enhance the quality of life for the people who receive them. As an organ and tissue donor, you can enhance the lives of up to 75 people. Corneas, the
                            middle ear, skin, heart valves, bone, veins, cartilage, tendons, and ligaments can be stored in tissue banks and used to restore sight, cover burns, repair hearts, replace veins, and mend damaged connective tissue and cartilage
                            in recipients.
                        </p>
                    </div>
                </div>
                <div class="col-lg-6 col-md-12 mb-4 mb-md-0 text-center">
                    <h3 class="text mb-4">Contact Us: <i class="fa fa-envelope" aria-hidden="true"></i>
                    </h3>
                    <ul class="list-unstyled">
                        <li>
                            <a href="#!" class="text-white">Email1</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white">Email2</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white">Email3</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </footer>
</body>

</html>